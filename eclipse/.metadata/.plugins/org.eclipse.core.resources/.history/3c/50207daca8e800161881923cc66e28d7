package escapemc.module.modules;

import org.lwjgl.input.Keyboard;

import escapemc.Event.Event;
import escapemc.Event.events.EventSendPacket;
import escapemc.module.Module;
import net.minecraft.util.math.BlockPos;

public class FreeCam extends Module {

	public FreeCam() {
		super("FreeCam", Keyboard.KEY_J, Category.RENDER);

	}
	
	public BlockPos startPos;
	
	
	public void Tick() {
		
		mc.thePlayer.capabilities.isFlying = true;
		
		if(mc.gameSettings.keyBindJump.isPressed()) {
			
			mc.thePlayer.motionY = 0.5;
			
		}
		else if(mc.gameSettings.keyBindSneak.isPressed()){
			
			mc.thePlayer.motionY = -0.5;
			
		}
		else{
			
			mc.thePlayer.motionY = 0;
			
		}
		if(mc.gameSettings.keyBindForward.isPressed() && (mc.gameSettings.keyBindLeft.isPressed() &&(mc.gameSettings.keyBindRight.isPressed() &&(mc.gameSettings.keyBindBack.isPressed())))) {
			
			mc.thePlayer.motionX =0;
			mc.thePlayer.motionZ =0;
			
		}
		
	}
	
	public void Enable() {
		
		startPos = mc.thePlayer.getPosition();
		
	}
	
	public void Disable() {
		
		mc.thePlayer.capabilities.isFlying = false;
		mc.thePlayer.setPosition(startPos.x, startPos.y, startPos.z);
		
	}
	
	
	public void Event(Event ev) {
		
		if(ev instanceof EventSendPacket) {
			
			EventSendPacket e = (EventSendPacket) ev;
			e.cancel = true;
			
		}
		
	}

	
	
	
}
